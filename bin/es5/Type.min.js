"use strict";function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(t,e){switch(!0){case"function"==typeof define&&t.define===define&&!!define.amd:define(e);break;case"object"===("undefined"==typeof module?"undefined":_typeof(module))&&t===module.exports:module.exports=e();break;case!t.Type:Reflect.defineProperty(t,"Type",{value:e(),enumerable:!0});break;default:console.error("'Type' is already defined on root object")}}(void 0,function(){function t(e){var r=t.prototype.isPrototypeOf(this)?this:Object.create(t.prototype);return r.init(e)}var e,r,o=["static","alias","override","enumerable","configurable","writable","const","readonly","frozen","sealed","extensible","attached","solid","validate"],n={upper:/\bthis\._upper\b/,illegalPrivateUse:/\b(?!this)[\w\$]+\._[^_\.][\w\$]+\b/g,thisMethodUsage:/\bthis\.[\$\w]+\b/g},i=Symbol.for("cell-type"),a=Symbol.for("cell-type.attrs"),s=Symbol.for("cell-type.statics"),c=Symbol.for("cell-type.owner"),l=Symbol.for("cell-type.inner"),f=Symbol.for("cell-type.dsc"),p=_defineProperty({$info:(e={},_defineProperty(e,a,"static frozen solid"),_defineProperty(e,"value",{name:"cell-type",description:"Prototypal(OLOO) inheritance algorithm.",version:"0.0.1",url:"https://github.com/unnoon/cell-type"}),e),init:function(t){return this._proto=null,this.name=t.name||"",this.model={},this.add(t),this.proto},add:function(t){t.links&&this.links(t.links),t.inherits&&this.inherits(t.inherits),t.compose&&this.compose.apply(this,_toConsumableArray(t.compose)),t.statics&&this.statics(t.statics),t.properties&&this.properties(t.properties)},$attrs:(r={},_defineProperty(r,a,"static"),_defineProperty(r,"value",o),r),_$assignAttrsToDsc:function(t,e){"<$attrs static>";e.enumerable=!!e.static,e.validate=!0,e[f]=!0;var r=!0,n=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value,l=void 0;switch(!0){case!c.indexOf("!"):l=!1,c=c.slice(1);break;case!!~c.indexOf("="):l=c.match(/[\$\w]+/g),c=l.shift();break;default:l=!0}~o.indexOf(c)||console.warn("'"+c+"' is an unknown attribute and will not be processed."),e[c]=l}}catch(t){n=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}(e.solid||e.readonly||e.const)&&(e.writable=!1),(e.solid||e.attached)&&(e.configurable=!1)},_$decorate:function(t,e){"<$attrs static>";var r;return Object.assign(t,(r={},_defineProperty(r,i,e),_defineProperty(r,s,{_upper:null}),r))},_$enhanceProperty:function(t,e,r){"<$attrs static>";var o=this;["value","get","set"].forEach(function(i){r.hasOwnProperty(i)&&(r.static&&"value"in r&&o._$staticEnhance(t,e,r,i),n.upper.test(r[i])&&o._$upperEnhanceProperty(t,e,r,i),r.extensible===!1&&Object.preventExtensions(r[i]),r.sealed&&Object.seal(r[i]),r.frozen&&Object.freeze(r[i]))})},_$extend:function(t,e){"<$attrs static>";var r=this,o=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],n=[].concat(_toConsumableArray(Object.getOwnPropertySymbols(e)),_toConsumableArray(Object.keys(e)));return n.forEach(function(n){t[i].model[n]=r._$processDescAttrs(n,Object.getOwnPropertyDescriptor(e,n),o)}),n.forEach(function(e){var o=t[i].model[e],n=o.alias||[];n.unshift(e),r._$validate(t,e,o,t[i].model),r._$enhanceProperty(t,e,o),n.forEach(function(e){Object.defineProperty(t,e,o),o.static&&t.hasOwnProperty("constructor")&&Object.defineProperty(t.constructor,e,o)})}),t},$getPropertyDescriptor:function(t,e){"<$attrs static>";if(t.hasOwnProperty(e))return Object.getOwnPropertyDescriptor(t,e);for(;t=Object.getPrototypeOf(t);)if(t.hasOwnProperty(e))return Object.getOwnPropertyDescriptor(t,e)},$getPrototypesOf:function(t){"<$attrs static>";for(var e=t,r=[];e=Object.getPrototypeOf(e);)r.push(e);return r},links:function(){"<$attrs alias=inherits>";var t=arguments.length<=0||void 0===arguments[0]?void 0:arguments[0];return void 0===t?Reflect.getPrototypeOf(this.proto):(this.proto=this._proto?Reflect.setPrototypeOf(this.proto,t):this._$decorate(Object.create(t),this),this)},_$processDescAttrs:function(t,e){"<$attrs static>";var r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if(e.value&&e.value[f])return e.value;var o=(""+(e.value||e.get||e.set)).match(/<\$attrs(.*?)>/),n=(""+(o?o[1]:e.value&&e.value[a]||"")).replace(/[\s]*([=\|\s])[\s]*/g,"$1"),i=n.match(/[!\$\w]+(=[\$\w]+(\|[\$\w]+)*)?/g)||[];return this._$assignAttrsToDsc(i,e),Object.assign(e,r),e.value&&void 0!==e.value[a]&&(e.value=e.value.value),e},properties:function(t){return this._$extend(this.proto,t),this},get proto(){return this._proto||(this._proto=this._$decorate({},this))},set proto(t){this._proto=t},_$staticEnhance:function(t,e,r,o){"<$attrs static>";Reflect.defineProperty(t[s],e,r),r[o]instanceof Function||this._$staticEnhanceProperty(t,e,r)},_$staticEnhanceProperty:function(t,e,r){"<$attrs static>";function o(){return o[c][s][e]}function n(t){n[c][s][e]=t}o[c]=n[c]=t,r.get=o,r.set=r.writable?n:function(t){return console.warn("Trying to set value '"+t+"' on readonly (static) property '"+e+"'.")},delete r.value,delete r.writable},statics:function(t){return void 0===t?this.proto[s]:(this._$extend(this.proto,t,{static:!0}),this)},compose:function(){for(var t=this,e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];return r.forEach(function(e){return t.properties(e[i].model)}),this},_$upperEnhanceProperty:function(e,r,o,n){"<$attrs static !validate>";function i(){for(var t=this,e=arguments.length,o=Array(e),l=0;l<e;l++)o[l]=arguments[l];var p=this._upper,u=void 0;return this._upper=function(){for(var e=arguments.length,o=Array(e),l=0;l<e;l++)o[l]=arguments[l];return a(s(i[c]),r)[n].apply(t,o)},u=f.apply(this,o),this._upper=p,u}var a=t.$getPropertyDescriptor,s=Reflect.getPrototypeOf,f=o[n];i[c]=e,i[l]=f,o[n]=i},_$validate:function(t,e,r,o){"<$attrs static>";var n=this;r.validate&&["value","get","set"].forEach(function(i){r.hasOwnProperty(i)&&(n._$validatePrivateUse(t,e,r,i),n._$validateNonStaticMethodUsage(t,e,r,i,o),n._$validateOverrides(t,e,r,i))})},_$validateNonStaticMethodUsage:function(t,e,r,o,a){"<$attrs static>";var c=(""+r[o]).match(n.thisMethodUsage);if("function"==typeof r[o]&&r.static&&c){var l=[],f=this.$getPrototypesOf(t);f.unshift(t);var p=!0,u=!1,y=void 0;try{for(var h,d=c[Symbol.iterator]();!(p=(h=d.next()).done);p=!0){var v=h.value,b=v.slice(v.indexOf(".")+1);if(!a[b]||!a[b].static)t:{var m=!0,$=!1,g=void 0;try{for(var _,O=f[Symbol.iterator]();!(m=(_=O.next()).done);m=!0){var P=_.value;if(P[s]&&P[s].hasOwnProperty(b))break t}}catch(t){$=!0,g=t}finally{try{!m&&O.return&&O.return()}finally{if($)throw g}}l.push(v)}}}catch(t){u=!0,y=t}finally{try{!p&&d.return&&d.return()}finally{if(u)throw y}}if(l.length)throw new Error("["+(t[i].name||"Type")+"]: Illegal usage of non-static method"+(l.length>1?"s":"")+" '"+l+"' in static method '"+e+"'.")}},_$validateOverrides:function(t,e,r,o){"<$attrs static>";var a=r[o]instanceof Function,s=a&&n.upper.test(r[o]);e in Object.getPrototypeOf(t)&&!r.override&&!s&&console.warn("["+(t[i].name||"Type")+"]: No overriding attribute "+(a?"and not calling upper ":"")+"in overriding ("+o+") property '"+e+"'.")},_$validatePrivateUse:function(t,e,r,o){"<$attrs static>";var a=(""+r[o]).match(n.illegalPrivateUse);if("function"==typeof r[o]&&a)throw new Error("["+(t[i].name||"Type")+"]: Illegal use of private propert"+(a.length>1?"ies":"y")+" '"+a+"' in ("+o+") method '"+e+"'.")}},s,{});return t.prototype[i]={name:"Type",model:{}},p._$extend(t.prototype,p),t});